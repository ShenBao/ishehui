<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ISH</title>
        
    <link rel="stylesheet" type="text/css" href="../../static/css/main.css">
</head>
<body>
<div class="navbar navbar-line">
    <div class="container">
        <div class="logo">
            
                ISH
            
        </div>
        <input type="checkbox" id="idoc_nav" />
        <div class="menu_tree">
        <ul><li><a href="../../index.html">首页</a></li><li><a href="#"><span></span>JS</a><ul><li><a href="../../html/JS/快速搞定常用的ES6新特性.html">快速搞定常用的ES6新特性</a></li><li><a href="../../html/JS/H5页面与Native的交互 封装使用.html">H5页面与Native的交互 封装使用</a></li></ul></li><li><a href="#"><span></span>React</a><ul><li><a href="../../html/React/React API 汇总.html">React API 汇总</a></li><li><a href="../../html/React/React中ES6与ES5构建差别及JSX的使用.html">React中ES6与ES5构建差别及JSX的使用</a></li><li><a href="../../html/React/React基础知识.html">React基础知识</a></li><li><a href="../../html/React/React编码规范.html">React编码规范</a></li><li><a href="../../html/React/webpack搭配react入门及实践.html">webpack搭配react入门及实践</a></li><li><a href="../../html/React/Babel使用指南.html">Babel使用指南</a></li></ul></li><li><a href="#"><span></span>RN 基础</a><ul><li><a href="../../html/RN 基础/React Native 学习提纲.html">React Native 学习提纲</a></li><li><a href="../../html/RN 基础/React Native 常用第三方组件汇总.html">React Native 常用第三方组件汇总</a></li><li><a href="../../html/RN 基础/React Native 初探.html">React Native 初探</a></li><li><a href="../../html/RN 基础/React Native 命令汇总.html">React Native 命令汇总</a></li><li><a href="../../html/RN 基础/React Native 样式表指南.html">React Native 样式表指南</a></li><li><a href="../../html/RN 基础/React Native 布局之FlexBox.html">React Native 布局之FlexBox</a></li><li><a href="../../html/RN 基础/React Native 基础之Props(属性)与State(状态).html">React Native 基础之Props(属性)与State(状态)</a></li><li><a href="../../html/RN 基础/React Native 基础之核心组件使用教程介绍.html">React Native 基础之核心组件使用教程介绍</a></li><li><a href="../../html/RN 基础/React Native 开发之WebStorm开发工具设置代码智能提醒.html">React Native 开发之WebStorm开发工具设置代码智能提醒</a></li><li><a href="../../html/RN 基础/React Native 特定平台代码说明.html">React Native 特定平台代码说明</a></li><li class="active"><a href="../../html/RN 基础/React Native 中 component 生命周期.html">React Native 中 component 生命周期</a></li></ul></li><li><a href="#"><span></span>RN API</a><ul><li><a href="../../html/RN API/React Native API模块 之 Alert .html">React Native API模块 之 Alert </a></li><li><a href="../../html/RN API/React Native API模块 之 Dimensions.html">React Native API模块 之 Dimensions</a></li><li><a href="../../html/RN API/React Native API模块 之 Keyboard.html">React Native API模块 之 Keyboard</a></li><li><a href="../../html/RN API/React Native API模块 之 StyleSheet.html">React Native API模块 之 StyleSheet</a></li><li><a href="../../html/RN API/React Native API模块 之 ToastAndroid.html">React Native API模块 之 ToastAndroid</a></li></ul></li><li><a href="#"><span></span>RN 控件</a><ul><li><a href="../../html/RN 控件/React Native控件 之 Text 及注意要点 .html">React Native控件 之 Text 及注意要点 </a></li><li><a href="../../html/RN 控件/React Native控件 之 TextInput 及注意要点.html">React Native控件 之 TextInput 及注意要点</a></li><li><a href="../../html/RN 控件/React Native控件 之 Touchable X 系列组件.html">React Native控件 之 Touchable X 系列组件</a></li><li><a href="../../html/RN 控件/React Native控件 之 Image 组件.html">React Native控件 之 Image 组件</a></li></ul></li><li><a href="#"><span></span>RN 工具</a><ul><li><a href="../../html/RN 工具/基于Fetch封装HTTPUtil工具类.html">基于Fetch封装HTTPUtil工具类</a></li></ul></li><li><a href="#"><span></span>开发</a><ul><li><a href="../../html/开发/RN版  bug反馈列表(rn 0.35).html">RN版  bug反馈列表(rn 0.35)</a></li><li><a href="../../html/开发/RN版  项目重构(基于RN 0.41.2).html">RN版  项目重构(基于RN 0.41.2)</a></li><li><a href="../../html/开发/优化.html">优化</a></li></ul></li><li><a href="#"><span></span>杂谈</a><ul><li><a href="../../html/杂谈/notpad++快捷键.html">notpad++快捷键</a></li><li><a href="../../html/杂谈/Facebook 开源的 Yarn 新型包管理工具.html">Facebook 开源的 Yarn 新型包管理工具</a></li></ul></li><li><a href="../../html/关于.html">关于</a></li></ul>    
        </div>
        
        

        <section class="idoc_nav_btn">
            <label for="idoc_nav"><span></span></label>
        </section>
    </div>
    
</div>




<div class="container">

    <div class="page-toc">
        <ul><li><a href="#t0React Native 中 component 生命周期">React Native 中 component 生命周期</a><ul><li><a href="#t1综述">综述</a></li><li><a href="#t2getDefaultProps">getDefaultProps</a></li><li><a href="#t3getInitialState">getInitialState</a></li><li><a href="#t4componentWillMount">componentWillMount</a></li><li><a href="#t5render">render</a></li><li><a href="#t6componentDidMount">componentDidMount</a></li><li><a href="#t7shouldComponentUpdate">shouldComponentUpdate</a></li><li><a href="#t8componentWillUpdate">componentWillUpdate</a></li><li><a href="#t9componentDidUpdate">componentDidUpdate</a></li><li><a href="#t10componentWillReceiveProps">componentWillReceiveProps</a></li><li><a href="#t11componentWillUnmount">componentWillUnmount</a></li><li><a href="#t12总结">总结</a></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <p>&#xFEFF;</p>
<h1 id="t0React Native &#x4E2D; component &#x751F;&#x547D;&#x5468;&#x671F;">React Native &#x4E2D; component &#x751F;&#x547D;&#x5468;&#x671F; <a href="#t0React Native &#x4E2D; component &#x751F;&#x547D;&#x5468;&#x671F;"> # </a></h1>
<h2 id="t1&#x7EFC;&#x8FF0;">&#x7EFC;&#x8FF0; <a href="#t1&#x7EFC;&#x8FF0;"> # </a></h2>
<p><img src="../.././img/RN/component.jpg" alt="component.jpg"></p>
<h2 id="t2getDefaultProps">getDefaultProps <a href="#t2getDefaultProps"> # </a></h2>
<p>object getDefaultProps()</p>
<p>&#x6267;&#x884C;&#x8FC7;&#x4E00;&#x6B21;&#x540E;&#xFF0C;&#x88AB;&#x521B;&#x5EFA;&#x7684;&#x7C7B;&#x4F1A;&#x6709;&#x7F13;&#x5B58;&#xFF0C;&#x6620;&#x5C04;&#x7684;&#x503C;&#x4F1A;&#x5B58;&#x5728;this.props,&#x524D;&#x63D0;&#x662F;&#x8FD9;&#x4E2A;prop&#x4E0D;&#x662F;&#x7236;&#x7EC4;&#x4EF6;&#x6307;&#x5B9A;&#x7684; </p>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x5BF9;&#x8C61;&#x88AB;&#x521B;&#x5EFA;&#x4E4B;&#x524D;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x80FD;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x8C03;&#x7528;this.props &#xFF0C;&#x53E6;&#x5916;&#xFF0C;&#x6CE8;&#x610F;&#x4EFB;&#x4F55;getDefaultProps()&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x5728;&#x5B9E;&#x4F8B;&#x4E2D;&#x5171;&#x4EAB;&#xFF0C;&#x4E0D;&#x662F;&#x590D;&#x5236;</p>
<h2 id="t3getInitialState">getInitialState <a href="#t3getInitialState"> # </a></h2>
<p>object getInitialState()</p>
<p>&#x63A7;&#x4EF6;&#x52A0;&#x8F7D;&#x4E4B;&#x524D;&#x6267;&#x884C;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x4F1A;&#x88AB;&#x7528;&#x4E8E;state&#x7684;&#x521D;&#x59CB;&#x5316;&#x503C;</p>
<h2 id="t4componentWillMount">componentWillMount <a href="#t4componentWillMount"> # </a></h2>
<p>void componentWillMount()</p>
<p>&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5728;&#x521D;&#x59CB;&#x5316;render&#x4E4B;&#x524D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5185;&#x8C03;&#x7528;setState&#xFF0C;render()&#x77E5;&#x9053;state&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;</p>
<h2 id="t5render">render <a href="#t5render"> # </a></h2>
<p>ReactElement render()</p>
<p>render&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528;render()&#x4F1A;&#x88AB;&#x8C03;&#x7528; </p>
<p>&#x8C03;&#x7528;render()&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x68C0;&#x67E5;this.props&#x548C;this.state&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B50;&#x5143;&#x7D20;&#xFF0C;&#x5B50;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x662F;DOM&#x7EC4;&#x4EF6;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x81EA;&#x5B9A;&#x4E49;&#x590D;&#x5408;&#x63A7;&#x4EF6;&#x7684;&#x865A;&#x62DF;&#x5B9E;&#x73B0; </p>
<p>&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x6E32;&#x67D3;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;null&#x6216;&#x8005;false&#xFF0C;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x4E0B;&#xFF0C;React&#x6E32;&#x67D3;&#x4E00;&#x4E2A;<noscript>标签，当返回null或者false时，ReactDOM.findDOMNode(this)返回null </noscript></p>
<p>render()&#x65B9;&#x6CD5;&#x662F;&#x5F88;&#x7EAF;&#x51C0;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x4E0D;&#x8981;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x91CC;&#x521D;&#x59CB;&#x5316;&#x7EC4;&#x4EF6;&#x7684;state&#xFF0C;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x65F6;&#x8FD4;&#x56DE;&#x76F8;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x4E0D;&#x4F1A;&#x8BFB;&#x5199;DOM&#x6216;&#x8005;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x4E92;&#xFF0C;&#x5982;&#x679C;&#x5FC5;&#x987B;&#x5982;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x4E92;&#xFF0C;&#x5728;componentDidMount()&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#xFF0C;&#x4FDD;&#x6301;render()&#x65B9;&#x6CD5;&#x7EAF;&#x51C0;&#x4F7F;&#x5F97;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x51C6;&#x786E;&#xFF0C;&#x7EC4;&#x4EF6;&#x66F4;&#x7B80;&#x5355;</p>
<h2 id="t6componentDidMount">componentDidMount <a href="#t6componentDidMount"> # </a></h2>
<p>void componentDidMount()</p>
<p>&#x5728;&#x521D;&#x59CB;&#x5316;render&#x4E4B;&#x540E;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5185;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4EFB;&#x4F55;&#x7EC4;&#x4EF6;&#xFF0C;componentDidMount()&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B50;&#x7EC4;&#x4EF6;&#x5728;&#x7236;&#x7EC4;&#x4EF6;&#x4E4B;&#x524D;&#x6267;&#x884C;</p>
<p>&#x4ECE;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x548C; JS &#x5176;&#x4ED6;&#x6846;&#x67B6;&#x4EA4;&#x4E92;&#x4E86;&#xFF0C;&#x4F8B;&#x5982;&#x8BBE;&#x7F6E;&#x8BA1;&#x65F6; setTimeout &#x6216;&#x8005; setInterval&#xFF0C;&#x6216;&#x8005;&#x53D1;&#x8D77;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;</p>
<h2 id="t7shouldComponentUpdate">shouldComponentUpdate <a href="#t7shouldComponentUpdate"> # </a></h2>
<pre><code>boolean shouldComponentUpdate(
  object nextProps, object nextState
)
</code></pre><p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x521D;&#x59CB;&#x5316;render&#x65F6;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x5F53;props&#x6216;&#x8005;state&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5728;render&#x4E4B;&#x524D;&#xFF0C;&#x5F53;&#x65B0;&#x7684;props&#x6216;&#x8005;state&#x4E0D;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x7EC4;&#x4EF6;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;false</p>
<pre><code>shouldComponentUpdate: function(nextProps, nextState) {
  return nextProps.id !== this.props.id;
}
</code></pre><p>&#x5F53;shouldComponentUpdate&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;false&#x65F6;&#xFF0C;&#x8BB2;&#x4E0D;&#x4F1A;&#x6267;&#x884C;render()&#x65B9;&#x6CD5;&#xFF0C;componentWillUpdate&#x548C;componentDidUpdate&#x65B9;&#x6CD5;&#x4E5F;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;shouldComponentUpdate&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;true&#x9632;&#x6B62;state&#x5FEB;&#x901F;&#x53D8;&#x5316;&#x65F6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#xB7;state&#x4E0D;&#x53D8;&#xFF0C;props&#x53EA;&#x8BFB;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8986;&#x76D6;shouldComponentUpdate&#x7528;&#x4E8E;&#x6BD4;&#x8F83;props&#x548C;state&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x51B3;&#x5B9A;UI&#x662F;&#x5426;&#x66F4;&#x65B0;&#xFF0C;&#x5F53;&#x7EC4;&#x4EF6;&#x6BD4;&#x8F83;&#x591A;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x80FD;&#x6709;&#x6548;&#x63D0;&#x9AD8;&#x5E94;&#x7528;&#x6027;&#x80FD;</p>
<h2 id="t8componentWillUpdate">componentWillUpdate <a href="#t8componentWillUpdate"> # </a></h2>
<pre><code>void componentWillUpdate(
  object nextProps, object nextState
)
</code></pre><p>&#x5F53;props&#x548C;state&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;&#x5728;render&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x6267;&#x884C;&#xFF0C;&#x5F53;&#x7136;&#x521D;&#x59CB;&#x5316;render&#x65F6;&#x4E0D;&#x6267;&#x884C;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x7279;&#x522B;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x91CC;&#x9762;&#xFF0C;&#x4F60;&#x5C31;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;this.setState&#x6765;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x628A;nextProps&#x548C;nextState&#x5206;&#x522B;&#x8BBE;&#x7F6E;&#x5230;this.props&#x548C;this.state&#x4E2D;&#x3002;&#x7D27;&#x63A5;&#x7740;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x4F1A;&#x8C03;&#x7528;render()&#x6765;&#x66F4;&#x65B0;&#x754C;&#x9762;&#x4E86;</p>
<h2 id="t9componentDidUpdate">componentDidUpdate <a href="#t9componentDidUpdate"> # </a></h2>
<pre><code>void componentDidUpdate(
  object prevProps, object prevState
)
</code></pre><p>&#x7EC4;&#x4EF6;&#x66F4;&#x65B0;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x6267;&#x884C;&#xFF0C;&#x5728;&#x521D;&#x59CB;&#x5316;render&#x65F6;&#x4E0D;&#x6267;&#x884C;</p>
<h2 id="t10componentWillReceiveProps">componentWillReceiveProps <a href="#t10componentWillReceiveProps"> # </a></h2>
<pre><code>void componentWillReceiveProps(
  object nextProps
)
</code></pre><p>&#x5F53;props&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x521D;&#x59CB;&#x5316;render&#x65F6;&#x4E0D;&#x6267;&#x884C;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x91CC;&#x9762;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5C5E;&#x6027;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;this.setState()&#x6765;&#x66F4;&#x65B0;&#x4F60;&#x7684;&#x7EC4;&#x4EF6;&#x72B6;&#x6001;&#xFF0C;&#x65E7;&#x7684;&#x5C5E;&#x6027;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;this.props&#x6765;&#x83B7;&#x53D6;,&#x8FD9;&#x91CC;&#x8C03;&#x7528;&#x66F4;&#x65B0;&#x72B6;&#x6001;&#x662F;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x989D;&#x5916;&#x7684;render&#x8C03;&#x7528;</p>
<pre><code>componentWillReceiveProps: function(nextProps) {
  this.setState({
    likesIncreasing: nextProps.likeCount &gt; this.props.likeCount
  });
}
</code></pre><h2 id="t11componentWillUnmount">componentWillUnmount <a href="#t11componentWillUnmount"> # </a></h2>
<p>void componentWillUnmount()</p>
<p>&#x5F53;&#x7EC4;&#x4EF6;&#x8981;&#x88AB;&#x4ECE;&#x754C;&#x9762;&#x4E0A;&#x79FB;&#x9664;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x8C03;&#x7528;componentWillUnmount(),&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;&#x7EC4;&#x4EF6;&#x76F8;&#x5173;&#x7684;&#x6E05;&#x7406;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x53D6;&#x6D88;&#x8BA1;&#x65F6;&#x5668;&#x3001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7B49;</p>
<h2 id="t12&#x603B;&#x7ED3;">&#x603B;&#x7ED3; <a href="#t12&#x603B;&#x7ED3;"> # </a></h2>
<p>React Native&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x5C31;&#x4ECB;&#x7ECD;&#x5B8C;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;&#x6700;&#x4E0A;&#x9762;&#x7684;&#x865A;&#x7EBF;&#x6846;&#x548C;&#x53F3;&#x4E0B;&#x89D2;&#x7684;&#x865A;&#x7EBF;&#x6846;&#x7684;&#x65B9;&#x6CD5;&#x4E00;&#x5B9A;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x5DE6;&#x4E0B;&#x89D2;&#x7684;&#x65B9;&#x6CD5;&#x6839;&#x636E;props state&#x662F;&#x5426;&#x53D8;&#x5316;&#x53BB;&#x6267;&#x884C;&#xFF0C;&#x5176;&#x4E2D;&#x5EFA;&#x8BAE;&#x53EA;&#x6709;&#x5728;componentWillMount,componentDidMount,componentWillReceiveProps&#x65B9;&#x6CD5;&#x4E2D;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;state&#x503C;</p>
<p>[&#x5168;&#x6587;&#x5B8C;]</p>

        <div class="copyright">Created by <a href="https://github.com/shenbao" target="_blank">ShenBao</a></div>
    </div>

</div>


</body>

<script>
		(function(window,document,undefined){
			var hearts = [];
			window.requestAnimationFrame = (function(){
					return window.requestAnimationFrame || 
							   window.webkitRequestAnimationFrame ||
							   window.mozRequestAnimationFrame ||
							   window.oRequestAnimationFrame ||
							   window.msRequestAnimationFrame ||
							   function (callback){
									   setTimeout(callback,1000/60);
							   }
			})();
			init();
			function init(){
					css(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
					attachEvent();
					gameloop();
			}
			function gameloop(){
					for(var i=0;i<hearts.length;i++){
						if(hearts[i].alpha <=0){
								document.body.removeChild(hearts[i].el);
								hearts.splice(i,1);
								continue;
						}
						hearts[i].y--;
						hearts[i].scale += 0.004;
						hearts[i].alpha -= 0.013;
						hearts[i].el.style.cssText = "left:"+hearts[i].x+"px;top:"+hearts[i].y+"px;opacity:"+hearts[i].alpha+";transform:scale("+hearts[i].scale+","+hearts[i].scale+") rotate(45deg);background:"+hearts[i].color+";z-index:99999";
				}
				requestAnimationFrame(gameloop);
			}
			function attachEvent(){
					var old = typeof window.onclick==="function" && window.onclick;
					window.onclick = function(event){
							old && old();
							createHeart(event);
					}
			}
			function createHeart(event){
				var d = document.createElement("div");
				d.className = "heart";
				hearts.push({
						el : d,
						x : event.clientX - 5,
						y : event.clientY - 5,
						scale : 1,
						alpha : 1,
						color : randomColor()
				});
				document.body.appendChild(d);
		}
		function css(css){
				var style = document.createElement("style");
					style.type="text/css";
					try{
						style.appendChild(document.createTextNode(css));
					}catch(ex){
						style.styleSheet.cssText = css;
					}
					document.getElementsByTagName('head')[0].appendChild(style);
		}
			function randomColor(){
					return "rgb("+(~~(Math.random()*255))+","+(~~(Math.random()*255))+","+(~~(Math.random()*255))+")";
			}
	})(window,document);
</script>

</html>
